{% extends 'admin_base.html' %}
{% load static %}
{% block data %}

<div class="row-fluid sortable ui-sortable">
    <div class="box span9" style="">
        <div class="box-header">
            <h2><i class="halflings-icon white font"></i><span class="break"></span>Step1 数据拆分操作</h2>
        </div>
        <div class="box-content">
            <div class="row-fluid">
                <div class="span10">
                    <h2>使用说明</h2>
                    <p>1.确保已经开启的web服务，即执行打开【开启Web服务.bat】</p>
                    <p>2.将admin管理后台中的数据任务进行拆分，需要先在
                        <button class="btn btn-small btn-primary">
                            <a href="http://127.0.0.1/xadmin" target="_blank">admin</a>
                        </button>
                        进行数据添加
                    </p>
                    <p>3.点击你要执行的任务按钮</p>
                    <p>4.执行完毕后进入
                        <button class="btn btn-small btn-primary">
                            <a href="http://127.0.0.1/xadmin/Data/task/" target="_blank">admin</a>
                        </button>
                        进行查看
                    </p>
                    <p>5.每次操作Lora感觉不好的话直接点提交会覆盖之前的记录</p>
                    <h2>可能存在的问题</h2>
                    <p>1.确保不要挂梯子，否则无法验证用户即无法执行操作</p>
                </div>
            </div>
            <div class="row-fluid sortable ui-sortable">
                <div class="box span12">
                    <div class="box-header" data-original-title="">
                        <h2><i class="halflings-icon white edit"></i><span class="break"></span>Lora数据部分，如果不需要无视</h2>
                    </div>
                    <div class="box-content">
                        <form class="form-horizontal" method="post" action="{% url 'Step_1_View'%}">
                            <div class="box-content">
                                <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper" role="grid">
                                    <div class="row-fluid"></div>
                                    {% csrf_token %}
                                    <div class="control-group">
                                        <label class="control-label" for="focusedInput">选择Lora需要的项目名称</label>
                                        <div class="controls">
                                            <select name="task_id">
                                                {% for option in task_list %}
                                                <option value="{{ option.id }}">
                                                    {{ option.type}}/{{ option.en_name}}
                                                </option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <table class="table table-striped table-bordered bootstrap-datatable datatable dataTable"
                                           id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
                                        <thead>
                                        <tr role="row">
                                            <th class="sorting_asc" role="columnheader" tabindex="0"
                                                aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                                aria-sort="ascending"
                                                aria-label="Username: activate to sort column descending"
                                                style="width: 249px;">
                                                人物姓名,默认【-】行表示不使用
                                            </th>
                                            <th class="sorting" role="columnheader" tabindex="0"
                                                aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                                aria-label="Date registered: activate to sort column ascending"
                                                style="width: 363px;">后台编辑的，进行选择Lora
                                            </th>
                                            <th class="sorting" role="columnheader" tabindex="0"
                                                aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                                aria-label="Role: activate to sort column ascending"
                                                style="width: 207px;">
                                                自定义英文描述,参考链接
                                                <a href="https://www.bilibili.com/video/BV1Gh4y147st/">用于Stable
                                                    Diffusion免费的AI绘画标签生成器</a>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody role="alert" aria-live="polite" aria-relevant="all">
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_1" value="-"></td>
                                            <td class="center">
                                                <select name="lora_1">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{option.lora_cn_name}}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_1"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_2" value="-"></td>
                                            <td class="center">
                                                <select name="lora_2">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_2"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_3" value="-"></td>
                                            <td class="center">
                                                <select name="lora_3">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name}}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_3"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_4" value="-"></td>
                                            <td class="center">
                                                <select name="lora_4">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{option.lora_cn_name}}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_4"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_5" value="-"></td>
                                            <td class="center">
                                                <select name="lora_5">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_5"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_6" value="-"></td>
                                            <td class="center">
                                                <select name="lora_6">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_6"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_7" value="-"></td>
                                            <td class="center">
                                                <select name="lora_7">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_7"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_8" value="-"></td>
                                            <td class="center">
                                                <select name="lora_8">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_8"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_9" value="-"></td>
                                            <td class="center">
                                                <select name="lora_9">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_9"></td>
                                        </tr>
                                        <tr class="odd">
                                            <td class="sorting_1"><input type="text" name="name_10" value="-"></td>
                                            <td class="center">
                                                <select name="lora_10">
                                                    {% for option in lora_list %}
                                                    <option value="{{ option.lora_en_name }}">
                                                        {{ option.lora_cn_name }}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                            <td class="center"><input type="text" name="description_10"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <button type="submit" class="btn btn-primary">保存Lora配置</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="box-header" data-original-title="">
                        <h2><i class="halflings-icon white user"></i><span class="break"></span>任务数据</h2>
                        <div class="box-icon">
                            <a href="#" class="btn-minimize"><i class="halflings-icon white chevron-up"></i></a>
                        </div>
                    </div>
                    <div class="box-content">
                        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper" role="grid">
                            <div class="row-fluid">
                            </div>
                            <table class="table table-striped table-bordered bootstrap-datatable datatable dataTable"
                                   id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
                                <thead>
                                <tr role="row">
                                    <th class="sorting_asc" role="columnheader" tabindex="0"
                                        aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending"
                                        aria-label="Username: activate to sort column descending" style="width: 249px;">
                                        文章类别
                                    </th>
                                    <th class="sorting" role="columnheader" tabindex="0"
                                        aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                        aria-label="Date registered: activate to sort column ascending"
                                        style="width: 363px;">文章英文名
                                    </th>
                                    <th class="sorting" role="columnheader" tabindex="0"
                                        aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                        aria-label="Role: activate to sort column ascending" style="width: 207px;">
                                        文章中文名
                                    </th>
                                    <th class="sorting" role="columnheader" tabindex="0"
                                        aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                        aria-label="Status: activate to sort column ascending" style="width: 220px;">
                                        文章字数
                                    </th>
                                    <th class="sorting" role="columnheader" tabindex="0"
                                        aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                        aria-label="Actions: activate to sort column ascending" style="width: 422px;">
                                        Actions
                                    </th>
                                </tr>
                                </thead>

                                <tbody role="alert" aria-live="polite" aria-relevant="all">
                                {% for data in task%}
                                <tr class="odd">
                                    <td class="  sorting_1">{{data.type}}</td>
                                    <td class="center ">{{data.en_name}}</td>
                                    <td class="center ">{{data.cn_name}}</td>
                                    <td class="center ">{{data.len_text}}</td>
                                    <td class="center">
                                        <a href="{% url 'Step_1_View' num=data.id %}" class="btn btn-primary">执行操作</a>
                                    </td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div><!--/span-->
            </div>
        </div>
    </div>


    <div class="box span3">
        <div class="box-header" data-original-title="">
            <h2><i class="halflings-icon white list"></i><span class="break"></span>常用</h2>
        </div>
        <div class="box-content">
            <ol>
                <li><a href="http://datayang.cn:9999/xadmin" class="btn btn-primary">云管理后台</a></li>
                <li><a href="http://127.0.0.1/xadmin" class="btn btn-primary">本地管理后台</a></li>
                <li><a href="https://azure.microsoft.com/zh-cn/products/cognitive-services/text-to-speech/"
                       class="btn btn-primary">微软TTS</a></li>
                <li>
                    <a href="https://auth.zhishuyun.com/auth/login?inviter_id=501cdcee-9887-4837-98a0-580df563add8&redirect=https://data.zhishuyun.com"
                       class="btn btn-primary">知数云</a></li>
                <li><a href="https://chat.openai.com/" class="btn btn-primary">ChatGPT</a></li>
            </ol>
        </div>
    </div>
</div>

{% endblock %}